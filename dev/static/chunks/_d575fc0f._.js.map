{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/lautylopez/Desktop/TRABAJO/La%20Fuga/SISTEMA%20DE%20GESTION%20DE%20PRECIOS/frontend-design-concept/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn('leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn('px-6', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,6TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,6TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,6TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,6TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf;MARS"}},
    {"offset": {"line": 124, "column": 0}, "map": {"version":3,"sources":["file:///Users/lautylopez/Desktop/TRABAJO/La%20Fuga/SISTEMA%20DE%20GESTION%20DE%20PRECIOS/frontend-design-concept/components/ui/skeleton.tsx"],"sourcesContent":["import { cn } from '@/lib/utils'\n\nfunction Skeleton({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"skeleton\"\n      className={cn('bg-accent animate-pulse rounded-md', className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n"],"names":[],"mappings":";;;;;AAAA;;;AAEA,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAoC;IACpE,qBACE,6TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf;KARS"}},
    {"offset": {"line": 154, "column": 0}, "map": {"version":3,"sources":["file:///Users/lautylopez/Desktop/TRABAJO/La%20Fuga/SISTEMA%20DE%20GESTION%20DE%20PRECIOS/frontend-design-concept/components/ui/alert.tsx"],"sourcesContent":["import * as React from 'react'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst alertVariants = cva(\n  'relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current',\n  {\n    variants: {\n      variant: {\n        default: 'bg-card text-card-foreground',\n        destructive:\n          'text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n    },\n  },\n)\n\nfunction Alert({\n  className,\n  variant,\n  ...props\n}: React.ComponentProps<'div'> & VariantProps<typeof alertVariants>) {\n  return (\n    <div\n      data-slot=\"alert\"\n      role=\"alert\"\n      className={cn(alertVariants({ variant }), className)}\n      {...props}\n    />\n  )\n}\n\nfunction AlertTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"alert-title\"\n      className={cn(\n        'col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDescription({\n  className,\n  ...props\n}: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"alert-description\"\n      className={cn(\n        'text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Alert, AlertTitle, AlertDescription }\n"],"names":[],"mappings":";;;;;;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,IAAA,qPAAG,EACvB,qOACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,GAAG,OAC8D;IACjE,qBACE,6TAAC;QACC,aAAU;QACV,MAAK;QACL,WAAW,IAAA,qHAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf;KAbS;AAeT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,+DACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,iBAAiB,EACxB,SAAS,EACT,GAAG,OACyB;IAC5B,qBACE,6TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,kGACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS"}},
    {"offset": {"line": 230, "column": 0}, "map": {"version":3,"sources":["file:///Users/lautylopez/Desktop/TRABAJO/La%20Fuga/SISTEMA%20DE%20GESTION%20DE%20PRECIOS/frontend-design-concept/components/ui/badge.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst badgeVariants = cva(\n  'inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden',\n  {\n    variants: {\n      variant: {\n        default:\n          'border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90',\n        secondary:\n          'border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90',\n        destructive:\n          'border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n    },\n  },\n)\n\nfunction Badge({\n  className,\n  variant,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'span'> &\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : 'span'\n\n  return (\n    <Comp\n      data-slot=\"badge\"\n      className={cn(badgeVariants({ variant }), className)}\n      {...props}\n    />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,IAAA,qPAAG,EACvB,kZACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,UAAU,KAAK,EACf,GAAG,OAEuD;IAC1D,MAAM,OAAO,UAAU,+SAAI,GAAG;IAE9B,qBACE,6TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf;KAhBS"}},
    {"offset": {"line": 282, "column": 0}, "map": {"version":3,"sources":["file:///Users/lautylopez/Desktop/TRABAJO/La%20Fuga/SISTEMA%20DE%20GESTION%20DE%20PRECIOS/frontend-design-concept/components/ui/table.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Table({ className, ...props }: React.ComponentProps<'table'>) {\n  return (\n    <div\n      data-slot=\"table-container\"\n      className=\"relative w-full overflow-x-auto\"\n    >\n      <table\n        data-slot=\"table\"\n        className={cn('w-full caption-bottom text-sm', className)}\n        {...props}\n      />\n    </div>\n  )\n}\n\nfunction TableHeader({ className, ...props }: React.ComponentProps<'thead'>) {\n  return (\n    <thead\n      data-slot=\"table-header\"\n      className={cn('[&_tr]:border-b', className)}\n      {...props}\n    />\n  )\n}\n\nfunction TableBody({ className, ...props }: React.ComponentProps<'tbody'>) {\n  return (\n    <tbody\n      data-slot=\"table-body\"\n      className={cn('[&_tr:last-child]:border-0', className)}\n      {...props}\n    />\n  )\n}\n\nfunction TableFooter({ className, ...props }: React.ComponentProps<'tfoot'>) {\n  return (\n    <tfoot\n      data-slot=\"table-footer\"\n      className={cn(\n        'bg-muted/50 border-t font-medium [&>tr]:last:border-b-0',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableRow({ className, ...props }: React.ComponentProps<'tr'>) {\n  return (\n    <tr\n      data-slot=\"table-row\"\n      className={cn(\n        'hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableHead({ className, ...props }: React.ComponentProps<'th'>) {\n  return (\n    <th\n      data-slot=\"table-head\"\n      className={cn(\n        'text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableCell({ className, ...props }: React.ComponentProps<'td'>) {\n  return (\n    <td\n      data-slot=\"table-cell\"\n      className={cn(\n        'p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableCaption({\n  className,\n  ...props\n}: React.ComponentProps<'caption'>) {\n  return (\n    <caption\n      data-slot=\"table-caption\"\n      className={cn('text-muted-foreground mt-4 text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAIA;AAJA;;;AAMA,SAAS,MAAM,EAAE,SAAS,EAAE,GAAG,OAAsC;IACnE,qBACE,6TAAC;QACC,aAAU;QACV,WAAU;kBAEV,cAAA,6TAAC;YACC,aAAU;YACV,WAAW,IAAA,qHAAE,EAAC,iCAAiC;YAC9C,GAAG,KAAK;;;;;;;;;;;AAIjB;KAbS;AAeT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAsC;IACzE,qBACE,6TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,mBAAmB;QAChC,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAsC;IACvE,qBACE,6TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAsC;IACzE,qBACE,6TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,2DACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAmC;IACnE,qBACE,6TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,+EACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAmC;IACpE,qBACE,6TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,sJACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAmC;IACpE,qBACE,6TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,0GACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,aAAa,EACpB,SAAS,EACT,GAAG,OAC6B;IAChC,qBACE,6TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf;MAXS"}},
    {"offset": {"line": 426, "column": 0}, "map": {"version":3,"sources":["file:///Users/lautylopez/Desktop/TRABAJO/La%20Fuga/SISTEMA%20DE%20GESTION%20DE%20PRECIOS/frontend-design-concept/lib/api.ts"],"sourcesContent":["// API Service para comunicación con el backend FastAPI\n// Sistema de Gestión de Precios - LA FUGA\n\nconst API_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8000';\n\n// Tipos basados en los schemas del backend\nexport interface Producto {\n  id: number;\n  codigo: string;\n  producto: string;\n  categoria: string;\n  precio_menor: number;\n  precio_mayor: number;\n  costo_compra: number;\n  unidad: string | null;\n  codigo_barra: string | null;\n  ultima_actualizacion: string | null;\n  diferencia_porcentual: number;\n}\n\nexport interface ProductosPaginados {\n  total: number;\n  limit: number;\n  offset: number;\n  count: number;\n  productos: Producto[];\n}\n\nexport interface Estadisticas {\n  total_productos: number;\n  productos_por_categoria: Record<string, number>;\n  productos_sin_precio: number;\n  productos_sin_codigo_barra: number;\n  promedio_precio_menor: number;\n  promedio_precio_mayor: number;\n}\n\nexport interface ActualizacionMasiva {\n  categoria?: string;\n  codigos?: string[];\n  porcentaje: number;\n  aplicar_a: 'menor' | 'mayor' | 'ambos';\n}\n\nexport interface ProductoUpdate {\n  producto?: string;\n  categoria?: string;\n  precio_menor?: number;\n  precio_mayor?: number;\n  costo_compra?: number;\n  unidad?: string;\n  codigo_barra?: string;\n}\n\n// Clase de error personalizada para errores de API\nexport class ApiError extends Error {\n  constructor(\n    message: string,\n    public status: number,\n    public detail?: string\n  ) {\n    super(message);\n    this.name = 'ApiError';\n  }\n}\n\n// Función helper para manejar respuestas\nasync function handleResponse<T>(response: Response): Promise<T> {\n  if (!response.ok) {\n    const errorData = await response.json().catch(() => ({}));\n    throw new ApiError(\n      errorData.detail || `Error ${response.status}`,\n      response.status,\n      errorData.detail\n    );\n  }\n  return response.json();\n}\n\n// Función helper para manejar errores de conexión\nfunction handleFetchError(error: unknown): never {\n  if (error instanceof ApiError) {\n    throw error;\n  }\n  if (error instanceof TypeError && error.message.includes('fetch')) {\n    throw new ApiError(\n      'No se pudo conectar al servidor. Verifica que el backend esté corriendo en ' + API_URL,\n      0,\n      'CONNECTION_ERROR'\n    );\n  }\n  throw new ApiError(\n    error instanceof Error ? error.message : 'Error desconocido',\n    0\n  );\n}\n\n// API Service\nexport const api = {\n  // ==================== HEALTH CHECK ====================\n\n  async healthCheck(): Promise<{ status: string }> {\n    try {\n      const response = await fetch(`${API_URL}/health`);\n      return handleResponse(response);\n    } catch (error) {\n      handleFetchError(error);\n    }\n  },\n\n  // ==================== PRODUCTOS ====================\n\n  /**\n   * Lista productos con filtros opcionales y paginación\n   */\n  async listarProductos(params: {\n    query?: string;\n    categoria?: string;\n    precio_min?: number;\n    precio_max?: number;\n    limit?: number;\n    offset?: number;\n  } = {}): Promise<ProductosPaginados> {\n    try {\n      const searchParams = new URLSearchParams();\n\n      if (params.query) searchParams.set('query', params.query);\n      if (params.categoria) searchParams.set('categoria', params.categoria);\n      if (params.precio_min !== undefined) searchParams.set('precio_min', params.precio_min.toString());\n      if (params.precio_max !== undefined) searchParams.set('precio_max', params.precio_max.toString());\n      if (params.limit !== undefined) searchParams.set('limit', params.limit.toString());\n      if (params.offset !== undefined) searchParams.set('offset', params.offset.toString());\n\n      const url = `${API_URL}/productos${searchParams.toString() ? '?' + searchParams.toString() : ''}`;\n      const response = await fetch(url);\n      return handleResponse(response);\n    } catch (error) {\n      handleFetchError(error);\n    }\n  },\n\n  /**\n   * Busca productos por texto (nombre, código, código de barras)\n   */\n  async buscarProductos(query: string, limite: number = 20): Promise<Producto[]> {\n    try {\n      const result = await this.listarProductos({ query, limit: limite });\n      return result.productos;\n    } catch (error) {\n      handleFetchError(error);\n    }\n  },\n\n  /**\n   * Obtiene un producto por su ID\n   */\n  async obtenerProducto(id: number): Promise<Producto> {\n    try {\n      const response = await fetch(`${API_URL}/productos/${id}`);\n      return handleResponse(response);\n    } catch (error) {\n      handleFetchError(error);\n    }\n  },\n\n  /**\n   * Obtiene un producto por su código SKU\n   */\n  async obtenerProductoPorCodigo(codigo: string): Promise<Producto> {\n    try {\n      const response = await fetch(`${API_URL}/productos/codigo/${encodeURIComponent(codigo)}`);\n      return handleResponse(response);\n    } catch (error) {\n      handleFetchError(error);\n    }\n  },\n\n  /**\n   * Obtiene un producto por código de barras\n   */\n  async obtenerProductoPorCodigoBarras(codigoBarras: string): Promise<Producto> {\n    try {\n      const response = await fetch(`${API_URL}/productos/barcode/${encodeURIComponent(codigoBarras)}`);\n      return handleResponse(response);\n    } catch (error) {\n      handleFetchError(error);\n    }\n  },\n\n  /**\n   * Actualiza un producto existente\n   */\n  async actualizarProducto(id: number, datos: ProductoUpdate): Promise<Producto> {\n    try {\n      const response = await fetch(`${API_URL}/productos/${id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(datos),\n      });\n      return handleResponse(response);\n    } catch (error) {\n      handleFetchError(error);\n    }\n  },\n\n  /**\n   * Elimina un producto\n   */\n  async eliminarProducto(id: number): Promise<void> {\n    try {\n      const response = await fetch(`${API_URL}/productos/${id}`, {\n        method: 'DELETE',\n      });\n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}));\n        throw new ApiError(\n          errorData.detail || `Error ${response.status}`,\n          response.status,\n          errorData.detail\n        );\n      }\n    } catch (error) {\n      handleFetchError(error);\n    }\n  },\n\n  // ==================== CATEGORÍAS ====================\n\n  /**\n   * Obtiene todas las categorías disponibles\n   */\n  async obtenerCategorias(): Promise<string[]> {\n    try {\n      const response = await fetch(`${API_URL}/categorias`);\n      return handleResponse(response);\n    } catch (error) {\n      handleFetchError(error);\n    }\n  },\n\n  /**\n   * Obtiene todos los productos de una categoría específica\n   */\n  async obtenerProductosPorCategoria(categoria: string): Promise<Producto[]> {\n    try {\n      const response = await fetch(`${API_URL}/categorias/${encodeURIComponent(categoria)}/productos`);\n      return handleResponse(response);\n    } catch (error) {\n      handleFetchError(error);\n    }\n  },\n\n  // ==================== ESTADÍSTICAS ====================\n\n  /**\n   * Obtiene estadísticas generales del sistema\n   */\n  async obtenerEstadisticas(): Promise<Estadisticas> {\n    try {\n      const response = await fetch(`${API_URL}/estadisticas`);\n      return handleResponse(response);\n    } catch (error) {\n      handleFetchError(error);\n    }\n  },\n\n  // ==================== ACTUALIZACIÓN MASIVA ====================\n\n  /**\n   * Realiza una actualización masiva de precios\n   */\n  async actualizacionMasiva(datos: ActualizacionMasiva): Promise<{\n    message: string;\n    productos_actualizados: number;\n  }> {\n    try {\n      const response = await fetch(`${API_URL}/productos/actualizar-masiva`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(datos),\n      });\n      return handleResponse(response);\n    } catch (error) {\n      handleFetchError(error);\n    }\n  },\n\n  /**\n   * Actualiza precios por categoría\n   */\n  async actualizarPreciosPorCategoria(\n    categoria: string,\n    porcentaje: number,\n    aplicarA: 'menor' | 'mayor' | 'ambos' = 'ambos'\n  ): Promise<{ message: string; productos_actualizados: number }> {\n    return this.actualizacionMasiva({\n      categoria,\n      porcentaje,\n      aplicar_a: aplicarA,\n    });\n  },\n\n  /**\n   * Actualiza precios por lista de códigos\n   */\n  async actualizarPreciosPorCodigos(\n    codigos: string[],\n    porcentaje: number,\n    aplicarA: 'menor' | 'mayor' | 'ambos' = 'ambos'\n  ): Promise<{ message: string; productos_actualizados: number }> {\n    return this.actualizacionMasiva({\n      codigos,\n      porcentaje,\n      aplicar_a: aplicarA,\n    });\n  },\n\n  // ==================== IMPORTACIÓN ====================\n\n  /**\n   * Importa productos desde un archivo Excel\n   */\n  async importarExcel(file: File): Promise<{\n    message: string;\n    productos_creados: number;\n    productos_actualizados: number;\n    errores: string[];\n  }> {\n    try {\n      const formData = new FormData();\n      formData.append('file', file);\n\n      const response = await fetch(`${API_URL}/importar/excel`, {\n        method: 'POST',\n        body: formData,\n      });\n      return handleResponse(response);\n    } catch (error) {\n      handleFetchError(error);\n    }\n  },\n\n  // ==================== REPORTES ====================\n\n  /**\n   * Obtiene datos para reportes de negocio\n   */\n  async obtenerReportes(): Promise<ReportesData> {\n    try {\n      const response = await fetch(`${API_URL}/reportes`);\n      return handleResponse(response);\n    } catch (error) {\n      handleFetchError(error);\n    }\n  },\n};\n\nexport interface ReportesData {\n  valuacion: {\n    total_costo_inventario: number;\n    total_valor_minorista: number;\n    total_valor_mayorista: number;\n    ganancia_potencial_minorista: number;\n    ganancia_potencial_mayorista: number;\n  };\n  rentabilidad: {\n    margen_promedio_minorista: number;\n    margen_promedio_mayorista: number;\n  };\n  alertas: {\n    productos_margen_negativo: Producto[];\n    productos_sin_precio: Producto[];\n    total_margen_negativo: number;\n    total_sin_precio: number;\n  };\n  categoria_performance: {\n    categoria: string;\n    total_items: number;\n    total_costo: number;\n    total_valor_menor: number;\n    total_valor_mayor: number;\n    margen_promedio_menor: number;\n    margen_promedio_mayor: number;\n  }[];\n}\n\nexport default api;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 670, "column": 0}, "map": {"version":3,"sources":["file:///Users/lautylopez/Desktop/TRABAJO/La%20Fuga/SISTEMA%20DE%20GESTION%20DE%20PRECIOS/frontend-design-concept/app/%28protected%29/reportes/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport {\n  DollarSign,\n  TrendingUp,\n  TrendingDown,\n  AlertTriangle,\n  Package,\n  RefreshCw,\n  BarChart3,\n} from \"lucide-react\"\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { Skeleton } from \"@/components/ui/skeleton\"\nimport { Alert, AlertDescription, AlertTitle } from \"@/components/ui/alert\"\nimport { Badge } from \"@/components/ui/badge\"\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from \"@/components/ui/table\"\nimport { api, ReportesData, ApiError } from \"@/lib/api\"\n\nexport default function ReportesPage() {\n  const [reportes, setReportes] = useState<ReportesData | null>(null)\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState<string | null>(null)\n\n  const fetchReportes = async () => {\n    setLoading(true)\n    setError(null)\n    try {\n      const data = await api.obtenerReportes()\n      setReportes(data)\n    } catch (err) {\n      if (err instanceof ApiError) {\n        setError(err.message)\n      } else {\n        setError(\"Error al cargar los reportes\")\n      }\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  useEffect(() => {\n    fetchReportes()\n  }, [])\n\n  const formatCurrency = (value: number) => {\n    return new Intl.NumberFormat(\"es-AR\", {\n      style: \"currency\",\n      currency: \"ARS\",\n      maximumFractionDigits: 0,\n    }).format(value)\n  }\n\n  const formatPercent = (value: number) => {\n    return `${value.toFixed(1)}%`\n  }\n\n  if (error) {\n    return (\n      <div className=\"space-y-6\">\n        <Alert variant=\"destructive\">\n          <AlertTriangle className=\"h-4 w-4\" />\n          <AlertTitle>Error</AlertTitle>\n          <AlertDescription>{error}</AlertDescription>\n        </Alert>\n        <Button onClick={fetchReportes} variant=\"outline\" className=\"gap-2\">\n          <RefreshCw className=\"h-4 w-4\" />\n          Reintentar\n        </Button>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-2xl font-bold text-brand-dark\">Reportes</h1>\n          <p className=\"text-sm text-muted-foreground\">\n            Analisis de rentabilidad e inventario\n          </p>\n        </div>\n        <Button\n          onClick={fetchReportes}\n          variant=\"outline\"\n          disabled={loading}\n          className=\"gap-2\"\n        >\n          <RefreshCw className={`h-4 w-4 ${loading ? \"animate-spin\" : \"\"}`} />\n          Actualizar\n        </Button>\n      </div>\n\n      {/* Valuation Cards */}\n      <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-3\">\n        {/* Total Inventory Cost */}\n        <Card className=\"border-l-4 border-l-gray-500\">\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium text-muted-foreground\">\n              Costo Total Inventario\n            </CardTitle>\n            <Package className=\"h-5 w-5 text-gray-500\" />\n          </CardHeader>\n          <CardContent>\n            {loading ? (\n              <Skeleton className=\"h-9 w-32\" />\n            ) : (\n              <div className=\"text-2xl font-bold text-brand-dark\">\n                {formatCurrency(reportes?.valuacion.total_costo_inventario || 0)}\n              </div>\n            )}\n            <p className=\"text-xs text-muted-foreground mt-1\">\n              Inversion en stock\n            </p>\n          </CardContent>\n        </Card>\n\n        {/* Total Retail Value (Minorista) */}\n        <Card className=\"border-l-4 border-l-[#006AC0]\">\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium text-muted-foreground\">\n              Valor Minorista\n            </CardTitle>\n            <DollarSign className=\"h-5 w-5 text-[#006AC0]\" />\n          </CardHeader>\n          <CardContent>\n            {loading ? (\n              <Skeleton className=\"h-9 w-32\" />\n            ) : (\n              <div className=\"text-2xl font-bold text-[#006AC0]\">\n                {formatCurrency(reportes?.valuacion.total_valor_minorista || 0)}\n              </div>\n            )}\n            <p className=\"text-xs text-muted-foreground mt-1\">\n              Potencial de venta menor\n            </p>\n          </CardContent>\n        </Card>\n\n        {/* Total Wholesale Value (Mayorista) */}\n        <Card className=\"border-l-4 border-l-[#FF1F8F]\">\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium text-muted-foreground\">\n              Valor Mayorista\n            </CardTitle>\n            <DollarSign className=\"h-5 w-5 text-[#FF1F8F]\" />\n          </CardHeader>\n          <CardContent>\n            {loading ? (\n              <Skeleton className=\"h-9 w-32\" />\n            ) : (\n              <div className=\"text-2xl font-bold text-[#FF1F8F]\">\n                {formatCurrency(reportes?.valuacion.total_valor_mayorista || 0)}\n              </div>\n            )}\n            <p className=\"text-xs text-muted-foreground mt-1\">\n              Potencial de venta mayor\n            </p>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Profitability Cards */}\n      <div className=\"grid gap-4 md:grid-cols-2\">\n        {/* Potential Profit Minorista */}\n        <Card className=\"bg-gradient-to-r from-[#006AC0]/10 to-white\">\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-lg flex items-center gap-2\">\n              <TrendingUp className=\"h-5 w-5 text-[#006AC0]\" />\n              Ganancia Potencial Minorista\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            {loading ? (\n              <Skeleton className=\"h-12 w-40\" />\n            ) : (\n              <>\n                <div className=\"text-3xl font-bold text-[#006AC0]\">\n                  {formatCurrency(\n                    reportes?.valuacion.ganancia_potencial_minorista || 0\n                  )}\n                </div>\n                <div className=\"flex items-center gap-2 mt-2\">\n                  <span className=\"text-sm text-muted-foreground\">\n                    Margen promedio:\n                  </span>\n                  <Badge\n                    variant={\n                      (reportes?.rentabilidad.margen_promedio_minorista || 0) > 0\n                        ? \"default\"\n                        : \"destructive\"\n                    }\n                    className=\"bg-[#006AC0]\"\n                  >\n                    {formatPercent(\n                      reportes?.rentabilidad.margen_promedio_minorista || 0\n                    )}\n                  </Badge>\n                </div>\n              </>\n            )}\n          </CardContent>\n        </Card>\n\n        {/* Potential Profit Mayorista */}\n        <Card className=\"bg-gradient-to-r from-[#FF1F8F]/10 to-white\">\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-lg flex items-center gap-2\">\n              <TrendingUp className=\"h-5 w-5 text-[#FF1F8F]\" />\n              Ganancia Potencial Mayorista\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            {loading ? (\n              <Skeleton className=\"h-12 w-40\" />\n            ) : (\n              <>\n                <div className=\"text-3xl font-bold text-[#FF1F8F]\">\n                  {formatCurrency(\n                    reportes?.valuacion.ganancia_potencial_mayorista || 0\n                  )}\n                </div>\n                <div className=\"flex items-center gap-2 mt-2\">\n                  <span className=\"text-sm text-muted-foreground\">\n                    Margen promedio:\n                  </span>\n                  <Badge\n                    variant={\n                      (reportes?.rentabilidad.margen_promedio_mayorista || 0) > 0\n                        ? \"default\"\n                        : \"destructive\"\n                    }\n                    className=\"bg-[#FF1F8F]\"\n                  >\n                    {formatPercent(\n                      reportes?.rentabilidad.margen_promedio_mayorista || 0\n                    )}\n                  </Badge>\n                </div>\n              </>\n            )}\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Alerts Section */}\n      <div className=\"grid gap-4 md:grid-cols-2\">\n        {/* Negative Margin Alert */}\n        <Card>\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-lg flex items-center gap-2\">\n              <TrendingDown className=\"h-5 w-5 text-red-500\" />\n              Alertas: Margen Negativo\n              {!loading && reportes && (\n                <Badge variant=\"destructive\">\n                  {reportes.alertas.total_margen_negativo}\n                </Badge>\n              )}\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            {loading ? (\n              <div className=\"space-y-2\">\n                {[1, 2, 3].map((i) => (\n                  <Skeleton key={i} className=\"h-12 w-full\" />\n                ))}\n              </div>\n            ) : reportes?.alertas.productos_margen_negativo.length === 0 ? (\n              <p className=\"text-sm text-muted-foreground py-4 text-center\">\n                No hay productos con margen negativo\n              </p>\n            ) : (\n              <div className=\"max-h-60 overflow-y-auto space-y-2\">\n                {reportes?.alertas.productos_margen_negativo.slice(0, 10).map((p) => (\n                  <div\n                    key={p.id}\n                    className=\"flex items-center justify-between p-2 rounded-lg bg-red-50 border border-red-100\"\n                  >\n                    <div className=\"min-w-0 flex-1\">\n                      <p className=\"text-sm font-medium truncate\">{p.producto}</p>\n                      <p className=\"text-xs text-muted-foreground\">\n                        Codigo: {p.codigo}\n                      </p>\n                    </div>\n                    <div className=\"text-right ml-2\">\n                      <p className=\"text-xs text-red-600\">\n                        Costo: {formatCurrency(p.costo_compra)}\n                      </p>\n                      <p className=\"text-xs text-muted-foreground\">\n                        Precio: {formatCurrency(p.precio_menor)}\n                      </p>\n                    </div>\n                  </div>\n                ))}\n                {(reportes?.alertas.total_margen_negativo || 0) > 10 && (\n                  <p className=\"text-xs text-muted-foreground text-center pt-2\">\n                    Y {reportes!.alertas.total_margen_negativo - 10} productos mas...\n                  </p>\n                )}\n              </div>\n            )}\n          </CardContent>\n        </Card>\n\n        {/* Zero Price Alert */}\n        <Card>\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-lg flex items-center gap-2\">\n              <AlertTriangle className=\"h-5 w-5 text-amber-500\" />\n              Alertas: Sin Precio\n              {!loading && reportes && (\n                <Badge variant=\"outline\" className=\"border-amber-500 text-amber-600\">\n                  {reportes.alertas.total_sin_precio}\n                </Badge>\n              )}\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            {loading ? (\n              <div className=\"space-y-2\">\n                {[1, 2, 3].map((i) => (\n                  <Skeleton key={i} className=\"h-12 w-full\" />\n                ))}\n              </div>\n            ) : reportes?.alertas.productos_sin_precio.length === 0 ? (\n              <p className=\"text-sm text-muted-foreground py-4 text-center\">\n                Todos los productos tienen precio\n              </p>\n            ) : (\n              <div className=\"max-h-60 overflow-y-auto space-y-2\">\n                {reportes?.alertas.productos_sin_precio.slice(0, 10).map((p) => (\n                  <div\n                    key={p.id}\n                    className=\"flex items-center justify-between p-2 rounded-lg bg-amber-50 border border-amber-100\"\n                  >\n                    <div className=\"min-w-0 flex-1\">\n                      <p className=\"text-sm font-medium truncate\">{p.producto}</p>\n                      <p className=\"text-xs text-muted-foreground\">\n                        Codigo: {p.codigo}\n                      </p>\n                    </div>\n                    <Badge variant=\"outline\" className=\"ml-2\">\n                      {p.categoria}\n                    </Badge>\n                  </div>\n                ))}\n                {(reportes?.alertas.total_sin_precio || 0) > 10 && (\n                  <p className=\"text-xs text-muted-foreground text-center pt-2\">\n                    Y {reportes!.alertas.total_sin_precio - 10} productos mas...\n                  </p>\n                )}\n              </div>\n            )}\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Category Performance Table */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <BarChart3 className=\"h-5 w-5\" />\n            Performance por Categoria\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          {loading ? (\n            <div className=\"space-y-2\">\n              {[1, 2, 3, 4, 5].map((i) => (\n                <Skeleton key={i} className=\"h-12 w-full\" />\n              ))}\n            </div>\n          ) : (\n            <div className=\"overflow-x-auto\">\n              <Table>\n                <TableHeader>\n                  <TableRow>\n                    <TableHead>Categoria</TableHead>\n                    <TableHead className=\"text-right\">Items</TableHead>\n                    <TableHead className=\"text-right\">Costo Total</TableHead>\n                    <TableHead className=\"text-right\">Valor Minorista</TableHead>\n                    <TableHead className=\"text-right\">Margen Min.</TableHead>\n                    <TableHead className=\"text-right\">Valor Mayorista</TableHead>\n                    <TableHead className=\"text-right\">Margen May.</TableHead>\n                  </TableRow>\n                </TableHeader>\n                <TableBody>\n                  {reportes?.categoria_performance.map((cat) => (\n                    <TableRow key={cat.categoria}>\n                      <TableCell className=\"font-medium\">{cat.categoria}</TableCell>\n                      <TableCell className=\"text-right\">{cat.total_items}</TableCell>\n                      <TableCell className=\"text-right text-gray-600\">\n                        {formatCurrency(cat.total_costo)}\n                      </TableCell>\n                      <TableCell className=\"text-right text-[#006AC0]\">\n                        {formatCurrency(cat.total_valor_menor)}\n                      </TableCell>\n                      <TableCell className=\"text-right\">\n                        <Badge\n                          variant={cat.margen_promedio_menor >= 0 ? \"default\" : \"destructive\"}\n                          className={cat.margen_promedio_menor >= 0 ? \"bg-green-500\" : \"\"}\n                        >\n                          {formatPercent(cat.margen_promedio_menor)}\n                        </Badge>\n                      </TableCell>\n                      <TableCell className=\"text-right text-[#FF1F8F]\">\n                        {formatCurrency(cat.total_valor_mayor)}\n                      </TableCell>\n                      <TableCell className=\"text-right\">\n                        <Badge\n                          variant={cat.margen_promedio_mayor >= 0 ? \"default\" : \"destructive\"}\n                          className={cat.margen_promedio_mayor >= 0 ? \"bg-green-500\" : \"\"}\n                        >\n                          {formatPercent(cat.margen_promedio_mayor)}\n                        </Badge>\n                      </TableCell>\n                    </TableRow>\n                  ))}\n                </TableBody>\n              </Table>\n            </div>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}